{
	"info": {
		"_postman_id": "2earn-api-v2-communication-services",
		"name": "2Earn API v2 - CommunicationBoard, CommissionBreakDown & Event Services",
		"description": "Complete API collection for CommunicationBoardService, CommissionBreakDownService, and EventService exposed under v2 prefix",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "2earn"
	},
	"item": [
		{
			"name": "Communication Board",
			"item": [
				{
					"name": "Get All Communication Board Items",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v2/communication-board",
							"host": ["{{base_url}}"],
							"path": ["api", "v2", "communication-board"]
						},
						"description": "Get all communication board items (surveys, news, events) merged and sorted by creation date"
					},
					"response": []
				},
				{
					"name": "Get All Communication Board Items (Alternative)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v2/communication-board/all",
							"host": ["{{base_url}}"],
							"path": ["api", "v2", "communication-board", "all"]
						},
						"description": "Get all communication board items (alias for index endpoint)"
					},
					"response": []
				}
			]
		},
		{
			"name": "Commission Breakdowns",
			"item": [
				{
					"name": "Get Commission Breakdown by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v2/commission-breakdowns/:id",
							"host": ["{{base_url}}"],
							"path": ["api", "v2", "commission-breakdowns", ":id"],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Commission Breakdown ID"
								}
							]
						},
						"description": "Get a single commission breakdown by ID"
					},
					"response": []
				},
				{
					"name": "Get Commission Breakdowns by Deal",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v2/commission-breakdowns/by-deal?deal_id=1&order_by=id&order_direction=ASC",
							"host": ["{{base_url}}"],
							"path": ["api", "v2", "commission-breakdowns", "by-deal"],
							"query": [
								{
									"key": "deal_id",
									"value": "1",
									"description": "Deal ID (required)"
								},
								{
									"key": "order_by",
									"value": "id",
									"description": "Order by field (id, created_at, commission_value, camembert)"
								},
								{
									"key": "order_direction",
									"value": "ASC",
									"description": "Order direction (ASC or DESC)"
								}
							]
						},
						"description": "Get commission breakdowns for a specific deal with optional ordering"
					},
					"response": []
				},
				{
					"name": "Calculate Commission Totals for Deal",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v2/commission-breakdowns/deals/:dealId/totals",
							"host": ["{{base_url}}"],
							"path": ["api", "v2", "commission-breakdowns", "deals", ":dealId", "totals"],
							"variable": [
								{
									"key": "dealId",
									"value": "1",
									"description": "Deal ID"
								}
							]
						},
						"description": "Calculate commission totals (jackpot, earn_profit, proactive_cashback, tree_remuneration) for a deal"
					},
					"response": []
				},
				{
					"name": "Create Commission Breakdown",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"deal_id\": 1,\n  \"order_id\": 1,\n  \"type\": 1,\n  \"trigger\": 1,\n  \"new_turnover\": 1000.00,\n  \"old_turnover\": 500.00,\n  \"purchase_value\": 300.00,\n  \"commission_percentage\": 10.5,\n  \"commission_value\": 31.50,\n  \"camembert\": 100.00,\n  \"cash_company_profit\": 20.00,\n  \"cash_jackpot\": 5.00,\n  \"cash_tree\": 3.50,\n  \"cash_cashback\": 3.00,\n  \"deal_paid_amount\": 300.00,\n  \"additional_amount\": 0.00\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v2/commission-breakdowns",
							"host": ["{{base_url}}"],
							"path": ["api", "v2", "commission-breakdowns"]
						},
						"description": "Create a new commission breakdown"
					},
					"response": []
				},
				{
					"name": "Update Commission Breakdown",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"commission_percentage\": 12.0,\n  \"commission_value\": 36.00,\n  \"cash_company_profit\": 22.00\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v2/commission-breakdowns/:id",
							"host": ["{{base_url}}"],
							"path": ["api", "v2", "commission-breakdowns", ":id"],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Commission Breakdown ID"
								}
							]
						},
						"description": "Update an existing commission breakdown"
					},
					"response": []
				},
				{
					"name": "Delete Commission Breakdown",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v2/commission-breakdowns/:id",
							"host": ["{{base_url}}"],
							"path": ["api", "v2", "commission-breakdowns", ":id"],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Commission Breakdown ID"
								}
							]
						},
						"description": "Delete a commission breakdown"
					},
					"response": []
				}
			]
		},
		{
			"name": "Events",
			"item": [
				{
					"name": "Get All Events (Paginated)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v2/events?per_page=10&search=",
							"host": ["{{base_url}}"],
							"path": ["api", "v2", "events"],
							"query": [
								{
									"key": "per_page",
									"value": "10",
									"description": "Number of items per page (1-100)"
								},
								{
									"key": "search",
									"value": "",
									"description": "Search term for filtering events"
								}
							]
						},
						"description": "Get all events with pagination and optional search"
					},
					"response": []
				},
				{
					"name": "Get All Events (Non-Paginated)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v2/events/all",
							"host": ["{{base_url}}"],
							"path": ["api", "v2", "events", "all"]
						},
						"description": "Get all events without pagination"
					},
					"response": []
				},
				{
					"name": "Get Enabled Events",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v2/events/enabled",
							"host": ["{{base_url}}"],
							"path": ["api", "v2", "events", "enabled"]
						},
						"description": "Get all enabled events"
					},
					"response": []
				},
				{
					"name": "Get Event by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v2/events/:id",
							"host": ["{{base_url}}"],
							"path": ["api", "v2", "events", ":id"],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Event ID"
								}
							]
						},
						"description": "Get a single event by ID"
					},
					"response": []
				},
				{
					"name": "Get Event with Relationships",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v2/events/:id/with-relationships",
							"host": ["{{base_url}}"],
							"path": ["api", "v2", "events", ":id", "with-relationships"],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Event ID"
								}
							]
						},
						"description": "Get event with relationships (mainImage, likes, comments.user)"
					},
					"response": []
				},
				{
					"name": "Get Event with Main Image",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v2/events/:id/with-main-image",
							"host": ["{{base_url}}"],
							"path": ["api", "v2", "events", ":id", "with-main-image"],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Event ID"
								}
							]
						},
						"description": "Get event with main image"
					},
					"response": []
				},
				{
					"name": "Check if User Liked Event",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v2/events/:id/has-user-liked?user_id=1",
							"host": ["{{base_url}}"],
							"path": ["api", "v2", "events", ":id", "has-user-liked"],
							"query": [
								{
									"key": "user_id",
									"value": "1",
									"description": "User ID (required)"
								}
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Event ID"
								}
							]
						},
						"description": "Check if a user has liked an event"
					},
					"response": []
				},
				{
					"name": "Create Event",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"New Event Title\",\n  \"content\": \"Event content goes here\",\n  \"enabled\": true,\n  \"published_at\": \"2026-02-15 10:00:00\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v2/events",
							"host": ["{{base_url}}"],
							"path": ["api", "v2", "events"]
						},
						"description": "Create a new event"
					},
					"response": []
				},
				{
					"name": "Update Event",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"Updated Event Title\",\n  \"content\": \"Updated event content\",\n  \"enabled\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v2/events/:id",
							"host": ["{{base_url}}"],
							"path": ["api", "v2", "events", ":id"],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Event ID"
								}
							]
						},
						"description": "Update an existing event"
					},
					"response": []
				},
				{
					"name": "Delete Event",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v2/events/:id",
							"host": ["{{base_url}}"],
							"path": ["api", "v2", "events", ":id"],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Event ID"
								}
							]
						},
						"description": "Delete an event"
					},
					"response": []
				},
				{
					"name": "Add Like to Event",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"user_id\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v2/events/:id/like",
							"host": ["{{base_url}}"],
							"path": ["api", "v2", "events", ":id", "like"],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Event ID"
								}
							]
						},
						"description": "Add a like to an event"
					},
					"response": []
				},
				{
					"name": "Remove Like from Event",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"user_id\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v2/events/:id/like",
							"host": ["{{base_url}}"],
							"path": ["api", "v2", "events", ":id", "like"],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Event ID"
								}
							]
						},
						"description": "Remove a like from an event"
					},
					"response": []
				},
				{
					"name": "Add Comment to Event",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"user_id\": 1,\n  \"content\": \"This is a comment on the event\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v2/events/:id/comment",
							"host": ["{{base_url}}"],
							"path": ["api", "v2", "events", ":id", "comment"],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Event ID"
								}
							]
						},
						"description": "Add a comment to an event"
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost",
			"type": "string"
		}
	]
}

